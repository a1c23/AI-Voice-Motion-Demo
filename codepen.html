<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Avatar Motion Demo</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <!-- Rotating gradient background (always visible) -->
    <div class="background-layers">
      <svg viewBox="0 0 1000 1000" class="dynamic-window" preserveAspectRatio="none">
        <rect width="1000" height="1000" fill="url(#paint0_radial_window)"/>
        <rect width="1000" height="1000" fill="#EBF4EF" fill-opacity="0.6"/>
        <defs>
          <radialGradient id="paint0_radial_window" cx="0" cy="0" r="1" gradientTransform="matrix(910.399 -1032.83 3113.12 584.094 88.4715 1016.34)" gradientUnits="userSpaceOnUse">
            <stop offset="0.0760575" stop-color="#9BE2EF"/>
            <stop offset="0.50638" stop-color="white"/>
            <stop offset="0.83745" stop-color="#F9F9DE"/>
            <stop offset="0.941724" stop-color="#7DE492"/>
          </radialGradient>
        </defs>
      </svg>
    </div>

    <!-- Thinking mode: Rotating gradient layers -->
    <div class="thinking-layers" id="thinking-layers">
      <div class="gradient-layer" id="layer-bottom">
        <div class="layer-image layer-a"></div>
        <div class="layer-image layer-b"></div>
      </div>

      <div class="gradient-layer" id="layer-mid">
        <div class="layer-image layer-a"></div>
        <div class="layer-image layer-b"></div>
      </div>

      <div class="gradient-layer" id="layer-top">
        <div class="layer-image layer-a"></div>
        <div class="layer-image layer-b"></div>
      </div>
    </div>

    <!-- Voice mode: Waveform animation -->
    <div class="voice-waveform" id="voice-waveform">
      <div class="row" id="wave-row"></div>
    </div>

    <!-- State toggles (below rotating images) -->
    <div class="state-toggles">
      <button id="state-speaking" class="state-btn" data-state="ai-speaking">
        <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M23.4641 4.45279C23.1743 5.41873 22.4186 6.17444 21.4527 6.46423L19.2451 7.12651C18.8745 7.23768 18.8745 7.76244 19.2451 7.87361L21.4527 8.53587C22.4186 8.82565 23.1743 9.58137 23.4641 10.5473L24.1266 12.7557C24.2378 13.1262 24.7624 13.1263 24.8737 12.7558L25.5375 10.5463C25.8274 9.58091 26.5828 8.82571 27.5483 8.53596L29.7551 7.87367C30.1256 7.76247 30.1256 7.23775 29.755 7.12658L27.5472 6.46423C26.5813 6.17444 25.8256 5.41873 25.5358 4.45279L24.8735 2.24522C24.7623 1.87464 24.2376 1.87464 24.1264 2.24522L23.4641 4.45279Z" fill="currentColor"/>
          <path d="M11.4344 11.8692C10.7472 14.0437 9.04377 15.7472 6.86927 16.4344L2.50425 17.8139C1.83369 18.0258 1.83349 18.9747 2.50396 19.1869L6.87211 20.5694C9.045 21.2572 10.747 22.9597 11.4341 25.1328L12.814 29.4968C13.026 30.1672 13.9746 30.1674 14.1869 29.497L15.5698 25.1299C16.2574 22.9585 17.9585 21.2573 20.13 20.5697L24.4971 19.1868C25.1674 18.9746 25.1672 18.0259 24.4968 17.8139L20.1328 16.4341C17.9597 15.747 16.2572 14.045 15.5695 11.8721L14.1869 7.50393C13.9747 6.83346 13.0259 6.83366 12.8139 7.50422L11.4344 11.8692Z" fill="currentColor"/>
        </svg>
      </button>
      <button id="state-listening" class="state-btn" data-state="user-speaking">
        <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M16 19C21.8313 19 25.2026 21.0398 26.7627 22.3564C27.6726 23.1245 28 24.2409 28 25.25C28 27.8734 25.8734 30 23.25 30H8.75C6.12665 30 4 27.8734 4 25.25C4 24.2409 4.32737 23.1245 5.2373 22.3564C6.79739 21.0398 10.1687 19 16 19Z" fill="currentColor"/>
          <path d="M16 2C20.1421 2 23.5 5.35786 23.5 9.5C23.5 13.6421 20.1421 17 16 17C11.8579 17 8.5 13.6421 8.5 9.5C8.5 5.35786 11.8579 2 16 2Z" fill="currentColor"/>
        </svg>
      </button>
      <button id="state-rest" class="state-btn" data-state="system-at-rest">
        <svg width="24" height="24" viewBox="0 0 31 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M16.8629 3.93457C23.3471 4.09889 28.5532 9.40689 28.5533 15.9307C28.5531 21.904 24.1883 26.8561 18.4742 27.7754C17.7249 27.9219 16.9509 28 16.1588 28C11.7958 27.9999 7.98107 25.6694 5.88239 22.1924C5.22972 21.111 6.14995 20.0298 7.12067 20.002C7.26086 19.9568 7.40645 19.9307 7.55329 19.9307L7.96539 19.9209C8.21975 19.908 8.47078 19.8818 8.71832 19.8457C12.3898 19.1197 15.1588 15.8833 15.1588 11.999C15.1586 10.2513 14.5992 8.63748 13.649 7.32227C13.2305 6.74305 13.1312 6.01295 13.3287 5.38672C13.5344 4.73486 14.0896 4.14902 14.9351 4.0625L14.9966 4.05664C15.102 4.02682 15.2131 4.00512 15.3297 3.99316L15.6324 3.96582C15.9362 3.94246 16.2436 3.93068 16.5533 3.93066L16.8629 3.93457Z" fill="currentColor"/>
        </svg>
      </button>
      <button id="state-thinking" class="state-btn" data-state="system-thinking">
        <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M20.8662 26.9922C20.8468 27.0531 20.8262 27.114 20.8008 27.1738C20.5828 27.6864 20.1671 28.0603 19.7744 28.4385L19.3154 28.8809C18.9423 29.2401 18.5717 29.6201 18.0801 29.8184C17.7114 29.967 17.3212 29.9954 16.9307 30H15.1162C14.7328 29.9956 14.3494 29.9687 13.9863 29.8252C13.5024 29.6339 13.1345 29.2664 12.7637 28.9189L12.2646 28.4521C11.8597 28.0728 11.4314 27.6976 11.2061 27.1777C11.1807 27.1192 11.1592 27.0597 11.1396 27H20.75C20.7894 27 20.828 26.9966 20.8662 26.9922ZM21.1211 22.0635C21.0113 22.4217 21 22.8846 21 24.2529V25.0322C20.92 25.0116 20.8364 25 20.75 25H11V24.2529C11 22.8846 10.9887 22.4217 10.8789 22.0635C10.8789 22.0635 10.8702 22.0428 10.8506 22H21.1494C21.1298 22.0428 21.1211 22.0635 21.1211 22.0635ZM16 2C21.4932 2 26 6.32425 26 11.7236C26 13.6955 25.3955 15.5313 24.3594 17.0625C23.5453 18.2654 22.8942 19.2343 22.3867 20H9.61328C9.1058 19.2343 8.4547 18.2654 7.64062 17.0625C6.6045 15.5313 6 13.6955 6 11.7236C6.00003 6.32425 10.5068 2 16 2Z" fill="currentColor"/>
        </svg>
      </button>
    </div>

    <!-- Controls -->
    <div class="controls">
      <button id="thinking-toggle" class="control-btn icon-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="5"></circle>
          <line x1="12" y1="1" x2="12" y2="3"></line>
          <line x1="12" y1="21" x2="12" y2="23"></line>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
          <line x1="1" y1="12" x2="3" y2="12"></line>
          <line x1="21" y1="12" x2="23" y2="12"></line>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
      </button>
    </div>
  </div>

  <script src="codepen.js"></script>
</body>
</html>
